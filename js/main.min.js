jQuery(document).ready(function($){
	var mainHeader = $('.cd-auto-hide-header'),
		secondaryNavigation = $('.cd-secondary-nav'),
		//this applies only if secondary nav is below intro section
		belowNavHeroContent = $('.sub-nav-hero'),
		headerHeight = mainHeader.height();
		currentSection = $(".cd-secondary-nav .active");
	
	//set scrolling variables
	var scrolling = false,
		previousTop = 0,
		currentTop = 0,
		scrollDelta = 10,
		scrollOffset = 150,
		isHidden = false;

	$('body').bind('beforeunload',function(){
		currentSection.removeClass('active');
		var url = window.location.href;
		var host = window.location.host;
		if(url.indexOf('http://' + host + '/resume.html') != -1) {
			currentSection = $("#basicid");
		}
    	currentSection.addClass('active');
	});

	$(document).ready(function() {
		$(this).scrollTop(0);
		$(".headers").on("click", function( e ) {
			e.preventDefault();
			var distance = 0
			if ($(this).offset().top - $( $(this).attr('href') ).offset().top < 0) {
				distance = ($(this).offset().top - $( $(this).attr('href') ).offset().top) + 70;
			} else {
				distance = ($(this).offset().top - $( $(this).attr('href') ).offset().top) - 70;
			}
			offsetDistance = 0; 
			if((distance < 300 && isHidden && distance > 0) 
				|| (distance < -300)|| (distance > -300 && isHidden && distance < 0)) {
				offsetDistance = 100;
			} else {
				offsetDistance = 150;
			}
			$("body, html").stop(true, true).animate({ 
				scrollTop: $( $(this).attr('href') ).offset().top - offsetDistance
			}, 1000);
			currentSection = $(this);
		});
	});

	$(window).on('scroll', function(){
		var position = $(this).scrollTop() + 170;

		$('.section').each(function() {
	        var target = $(this).offset().top;
	        var id = $(this).attr('id');

	        if (position >= target) {
	        	currentSection.removeClass('active');
	        	currentSection = $('.cd-secondary-nav > ul > li > a[href="#' + id + '"]');
            	$('.cd-secondary-nav > ul > li > a[href="#' + id + '"]').addClass('active');
	        }
    	});

		if( !scrolling ) {
			scrolling = true;
			(!window.requestAnimationFrame)
				? setTimeout(autoHideHeader, 500)
				: requestAnimationFrame(autoHideHeader);
		}
	});

	mainHeader.on('click', '.nav-trigger', function(event){
		// open primary navigation on mobile
		event.preventDefault();
		mainHeader.toggleClass('nav-open');
	});

	$(window).on('resize', function(){
		headerHeight = mainHeader.height();
	});

	function autoHideHeader() {
		var currentTop = $(window).scrollTop();

		( belowNavHeroContent.length > 0 ) 
			? checkStickyNavigation(currentTop) // secondary navigation below intro
			: checkSimpleNavigation(currentTop);

	   	previousTop = currentTop;
		scrolling = false;
	}

	function checkSimpleNavigation(currentTop) {
		//there's no secondary nav or secondary nav is below primary nav
	    if (previousTop - currentTop > scrollDelta) {
	    	//if scrolling up...
	    	mainHeader.removeClass('is-hidden');
	    	isHidden = false;
	    } else if( currentTop - previousTop > scrollDelta && currentTop > scrollOffset) {
	    	//if scrolling down...
	    	mainHeader.addClass('is-hidden');
	    	isHidden = true;
	    }
	}

	function checkStickyNavigation(currentTop) {
		//secondary nav below intro section - sticky secondary nav
		var secondaryNavOffsetTop = belowNavHeroContent.offset().top - secondaryNavigation.height() - mainHeader.height();
		
		if (previousTop >= currentTop ) {
	    	//if scrolling up... 
	    	if( currentTop < secondaryNavOffsetTop) {
	    		//secondary nav is not fixed
	    		mainHeader.removeClass('is-hidden');
	    		secondaryNavigation.removeClass('fixed slide-up');
	    		belowNavHeroContent.removeClass('secondary-nav-fixed');
	    		isHidden = false;
	    	} else if( previousTop - currentTop > scrollDelta) {
	    		//secondary nav is fixed
	    		mainHeader.removeClass('is-hidden');
	    		secondaryNavigation.removeClass('slide-up').addClass('fixed'); 
	    		belowNavHeroContent.addClass('secondary-nav-fixed');
	    		isHidden = false;
	    	}
	    	
	    } else {
	    	//if scrolling down...	
	 	  	if( currentTop > secondaryNavOffsetTop + scrollOffset) {
	 	  		//hide primary nav
	    		mainHeader.addClass('is-hidden');
	    		secondaryNavigation.addClass('fixed slide-up');
	    		belowNavHeroContent.addClass('secondary-nav-fixed');
	    		isHidden = true;
	    	} else if( currentTop > secondaryNavOffsetTop) {
	    		//once the secondary nav is fixed, do not hide primary nav if you haven't scrolled more than scrollOffset 
	    		mainHeader.removeClass('is-hidden');
	    		secondaryNavigation.addClass('fixed').removeClass('slide-up');
	    		belowNavHeroContent.addClass('secondary-nav-fixed');
	    		isHidden = true;
	    	}
	    }
	}

	function hasClass(element, cls) {
	    return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;
	}
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcy9tYWluLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xuXHR2YXIgbWFpbkhlYWRlciA9ICQoJy5jZC1hdXRvLWhpZGUtaGVhZGVyJyksXG5cdFx0c2Vjb25kYXJ5TmF2aWdhdGlvbiA9ICQoJy5jZC1zZWNvbmRhcnktbmF2JyksXG5cdFx0Ly90aGlzIGFwcGxpZXMgb25seSBpZiBzZWNvbmRhcnkgbmF2IGlzIGJlbG93IGludHJvIHNlY3Rpb25cblx0XHRiZWxvd05hdkhlcm9Db250ZW50ID0gJCgnLnN1Yi1uYXYtaGVybycpLFxuXHRcdGhlYWRlckhlaWdodCA9IG1haW5IZWFkZXIuaGVpZ2h0KCk7XG5cdFx0Y3VycmVudFNlY3Rpb24gPSAkKFwiLmNkLXNlY29uZGFyeS1uYXYgLmFjdGl2ZVwiKTtcblx0XG5cdC8vc2V0IHNjcm9sbGluZyB2YXJpYWJsZXNcblx0dmFyIHNjcm9sbGluZyA9IGZhbHNlLFxuXHRcdHByZXZpb3VzVG9wID0gMCxcblx0XHRjdXJyZW50VG9wID0gMCxcblx0XHRzY3JvbGxEZWx0YSA9IDEwLFxuXHRcdHNjcm9sbE9mZnNldCA9IDE1MCxcblx0XHRpc0hpZGRlbiA9IGZhbHNlO1xuXG5cdCQoJ2JvZHknKS5iaW5kKCdiZWZvcmV1bmxvYWQnLGZ1bmN0aW9uKCl7XG5cdFx0Y3VycmVudFNlY3Rpb24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblx0XHR2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuXHRcdGlmKHVybC5pbmRleE9mKCdodHRwOi8vJyArIGhvc3QgKyAnL3Jlc3VtZS5odG1sJykgIT0gLTEpIHtcblx0XHRcdGN1cnJlbnRTZWN0aW9uID0gJChcIiNiYXNpY2lkXCIpO1xuXHRcdH1cbiAgICBcdGN1cnJlbnRTZWN0aW9uLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0fSk7XG5cblx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5zY3JvbGxUb3AoMCk7XG5cdFx0JChcIi5oZWFkZXJzXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgZGlzdGFuY2UgPSAwXG5cdFx0XHRpZiAoJCh0aGlzKS5vZmZzZXQoKS50b3AgLSAkKCAkKHRoaXMpLmF0dHIoJ2hyZWYnKSApLm9mZnNldCgpLnRvcCA8IDApIHtcblx0XHRcdFx0ZGlzdGFuY2UgPSAoJCh0aGlzKS5vZmZzZXQoKS50b3AgLSAkKCAkKHRoaXMpLmF0dHIoJ2hyZWYnKSApLm9mZnNldCgpLnRvcCkgKyA3MDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRpc3RhbmNlID0gKCQodGhpcykub2Zmc2V0KCkudG9wIC0gJCggJCh0aGlzKS5hdHRyKCdocmVmJykgKS5vZmZzZXQoKS50b3ApIC0gNzA7XG5cdFx0XHR9XG5cdFx0XHRvZmZzZXREaXN0YW5jZSA9IDA7IFxuXHRcdFx0aWYoKGRpc3RhbmNlIDwgMzAwICYmIGlzSGlkZGVuICYmIGRpc3RhbmNlID4gMCkgXG5cdFx0XHRcdHx8IChkaXN0YW5jZSA8IC0zMDApfHwgKGRpc3RhbmNlID4gLTMwMCAmJiBpc0hpZGRlbiAmJiBkaXN0YW5jZSA8IDApKSB7XG5cdFx0XHRcdG9mZnNldERpc3RhbmNlID0gMTAwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2Zmc2V0RGlzdGFuY2UgPSAxNTA7XG5cdFx0XHR9XG5cdFx0XHQkKFwiYm9keSwgaHRtbFwiKS5zdG9wKHRydWUsIHRydWUpLmFuaW1hdGUoeyBcblx0XHRcdFx0c2Nyb2xsVG9wOiAkKCAkKHRoaXMpLmF0dHIoJ2hyZWYnKSApLm9mZnNldCgpLnRvcCAtIG9mZnNldERpc3RhbmNlXG5cdFx0XHR9LCAxMDAwKTtcblx0XHRcdGN1cnJlbnRTZWN0aW9uID0gJCh0aGlzKTtcblx0XHR9KTtcblx0fSk7XG5cblx0JCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpe1xuXHRcdHZhciBwb3NpdGlvbiA9ICQodGhpcykuc2Nyb2xsVG9wKCkgKyAxNzA7XG5cblx0XHQkKCcuc2VjdGlvbicpLmVhY2goZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHRhcmdldCA9ICQodGhpcykub2Zmc2V0KCkudG9wO1xuXHQgICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaWQnKTtcblxuXHQgICAgICAgIGlmIChwb3NpdGlvbiA+PSB0YXJnZXQpIHtcblx0ICAgICAgICBcdGN1cnJlbnRTZWN0aW9uLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0ICAgICAgICBcdGN1cnJlbnRTZWN0aW9uID0gJCgnLmNkLXNlY29uZGFyeS1uYXYgPiB1bCA+IGxpID4gYVtocmVmPVwiIycgKyBpZCArICdcIl0nKTtcbiAgICAgICAgICAgIFx0JCgnLmNkLXNlY29uZGFyeS1uYXYgPiB1bCA+IGxpID4gYVtocmVmPVwiIycgKyBpZCArICdcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cdCAgICAgICAgfVxuICAgIFx0fSk7XG5cblx0XHRpZiggIXNjcm9sbGluZyApIHtcblx0XHRcdHNjcm9sbGluZyA9IHRydWU7XG5cdFx0XHQoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG5cdFx0XHRcdD8gc2V0VGltZW91dChhdXRvSGlkZUhlYWRlciwgNTAwKVxuXHRcdFx0XHQ6IHJlcXVlc3RBbmltYXRpb25GcmFtZShhdXRvSGlkZUhlYWRlcik7XG5cdFx0fVxuXHR9KTtcblxuXHRtYWluSGVhZGVyLm9uKCdjbGljaycsICcubmF2LXRyaWdnZXInLCBmdW5jdGlvbihldmVudCl7XG5cdFx0Ly8gb3BlbiBwcmltYXJ5IG5hdmlnYXRpb24gb24gbW9iaWxlXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRtYWluSGVhZGVyLnRvZ2dsZUNsYXNzKCduYXYtb3BlbicpO1xuXHR9KTtcblxuXHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XG5cdFx0aGVhZGVySGVpZ2h0ID0gbWFpbkhlYWRlci5oZWlnaHQoKTtcblx0fSk7XG5cblx0ZnVuY3Rpb24gYXV0b0hpZGVIZWFkZXIoKSB7XG5cdFx0dmFyIGN1cnJlbnRUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cblx0XHQoIGJlbG93TmF2SGVyb0NvbnRlbnQubGVuZ3RoID4gMCApIFxuXHRcdFx0PyBjaGVja1N0aWNreU5hdmlnYXRpb24oY3VycmVudFRvcCkgLy8gc2Vjb25kYXJ5IG5hdmlnYXRpb24gYmVsb3cgaW50cm9cblx0XHRcdDogY2hlY2tTaW1wbGVOYXZpZ2F0aW9uKGN1cnJlbnRUb3ApO1xuXG5cdCAgIFx0cHJldmlvdXNUb3AgPSBjdXJyZW50VG9wO1xuXHRcdHNjcm9sbGluZyA9IGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tTaW1wbGVOYXZpZ2F0aW9uKGN1cnJlbnRUb3ApIHtcblx0XHQvL3RoZXJlJ3Mgbm8gc2Vjb25kYXJ5IG5hdiBvciBzZWNvbmRhcnkgbmF2IGlzIGJlbG93IHByaW1hcnkgbmF2XG5cdCAgICBpZiAocHJldmlvdXNUb3AgLSBjdXJyZW50VG9wID4gc2Nyb2xsRGVsdGEpIHtcblx0ICAgIFx0Ly9pZiBzY3JvbGxpbmcgdXAuLi5cblx0ICAgIFx0bWFpbkhlYWRlci5yZW1vdmVDbGFzcygnaXMtaGlkZGVuJyk7XG5cdCAgICBcdGlzSGlkZGVuID0gZmFsc2U7XG5cdCAgICB9IGVsc2UgaWYoIGN1cnJlbnRUb3AgLSBwcmV2aW91c1RvcCA+IHNjcm9sbERlbHRhICYmIGN1cnJlbnRUb3AgPiBzY3JvbGxPZmZzZXQpIHtcblx0ICAgIFx0Ly9pZiBzY3JvbGxpbmcgZG93bi4uLlxuXHQgICAgXHRtYWluSGVhZGVyLmFkZENsYXNzKCdpcy1oaWRkZW4nKTtcblx0ICAgIFx0aXNIaWRkZW4gPSB0cnVlO1xuXHQgICAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tTdGlja3lOYXZpZ2F0aW9uKGN1cnJlbnRUb3ApIHtcblx0XHQvL3NlY29uZGFyeSBuYXYgYmVsb3cgaW50cm8gc2VjdGlvbiAtIHN0aWNreSBzZWNvbmRhcnkgbmF2XG5cdFx0dmFyIHNlY29uZGFyeU5hdk9mZnNldFRvcCA9IGJlbG93TmF2SGVyb0NvbnRlbnQub2Zmc2V0KCkudG9wIC0gc2Vjb25kYXJ5TmF2aWdhdGlvbi5oZWlnaHQoKSAtIG1haW5IZWFkZXIuaGVpZ2h0KCk7XG5cdFx0XG5cdFx0aWYgKHByZXZpb3VzVG9wID49IGN1cnJlbnRUb3AgKSB7XG5cdCAgICBcdC8vaWYgc2Nyb2xsaW5nIHVwLi4uIFxuXHQgICAgXHRpZiggY3VycmVudFRvcCA8IHNlY29uZGFyeU5hdk9mZnNldFRvcCkge1xuXHQgICAgXHRcdC8vc2Vjb25kYXJ5IG5hdiBpcyBub3QgZml4ZWRcblx0ICAgIFx0XHRtYWluSGVhZGVyLnJlbW92ZUNsYXNzKCdpcy1oaWRkZW4nKTtcblx0ICAgIFx0XHRzZWNvbmRhcnlOYXZpZ2F0aW9uLnJlbW92ZUNsYXNzKCdmaXhlZCBzbGlkZS11cCcpO1xuXHQgICAgXHRcdGJlbG93TmF2SGVyb0NvbnRlbnQucmVtb3ZlQ2xhc3MoJ3NlY29uZGFyeS1uYXYtZml4ZWQnKTtcblx0ICAgIFx0XHRpc0hpZGRlbiA9IGZhbHNlO1xuXHQgICAgXHR9IGVsc2UgaWYoIHByZXZpb3VzVG9wIC0gY3VycmVudFRvcCA+IHNjcm9sbERlbHRhKSB7XG5cdCAgICBcdFx0Ly9zZWNvbmRhcnkgbmF2IGlzIGZpeGVkXG5cdCAgICBcdFx0bWFpbkhlYWRlci5yZW1vdmVDbGFzcygnaXMtaGlkZGVuJyk7XG5cdCAgICBcdFx0c2Vjb25kYXJ5TmF2aWdhdGlvbi5yZW1vdmVDbGFzcygnc2xpZGUtdXAnKS5hZGRDbGFzcygnZml4ZWQnKTsgXG5cdCAgICBcdFx0YmVsb3dOYXZIZXJvQ29udGVudC5hZGRDbGFzcygnc2Vjb25kYXJ5LW5hdi1maXhlZCcpO1xuXHQgICAgXHRcdGlzSGlkZGVuID0gZmFsc2U7XG5cdCAgICBcdH1cblx0ICAgIFx0XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvL2lmIHNjcm9sbGluZyBkb3duLi4uXHRcblx0IFx0ICBcdGlmKCBjdXJyZW50VG9wID4gc2Vjb25kYXJ5TmF2T2Zmc2V0VG9wICsgc2Nyb2xsT2Zmc2V0KSB7XG5cdCBcdCAgXHRcdC8vaGlkZSBwcmltYXJ5IG5hdlxuXHQgICAgXHRcdG1haW5IZWFkZXIuYWRkQ2xhc3MoJ2lzLWhpZGRlbicpO1xuXHQgICAgXHRcdHNlY29uZGFyeU5hdmlnYXRpb24uYWRkQ2xhc3MoJ2ZpeGVkIHNsaWRlLXVwJyk7XG5cdCAgICBcdFx0YmVsb3dOYXZIZXJvQ29udGVudC5hZGRDbGFzcygnc2Vjb25kYXJ5LW5hdi1maXhlZCcpO1xuXHQgICAgXHRcdGlzSGlkZGVuID0gdHJ1ZTtcblx0ICAgIFx0fSBlbHNlIGlmKCBjdXJyZW50VG9wID4gc2Vjb25kYXJ5TmF2T2Zmc2V0VG9wKSB7XG5cdCAgICBcdFx0Ly9vbmNlIHRoZSBzZWNvbmRhcnkgbmF2IGlzIGZpeGVkLCBkbyBub3QgaGlkZSBwcmltYXJ5IG5hdiBpZiB5b3UgaGF2ZW4ndCBzY3JvbGxlZCBtb3JlIHRoYW4gc2Nyb2xsT2Zmc2V0IFxuXHQgICAgXHRcdG1haW5IZWFkZXIucmVtb3ZlQ2xhc3MoJ2lzLWhpZGRlbicpO1xuXHQgICAgXHRcdHNlY29uZGFyeU5hdmlnYXRpb24uYWRkQ2xhc3MoJ2ZpeGVkJykucmVtb3ZlQ2xhc3MoJ3NsaWRlLXVwJyk7XG5cdCAgICBcdFx0YmVsb3dOYXZIZXJvQ29udGVudC5hZGRDbGFzcygnc2Vjb25kYXJ5LW5hdi1maXhlZCcpO1xuXHQgICAgXHRcdGlzSGlkZGVuID0gdHJ1ZTtcblx0ICAgIFx0fVxuXHQgICAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xzKSB7XG5cdCAgICByZXR1cm4gKCcgJyArIGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnKS5pbmRleE9mKCcgJyArIGNscyArICcgJykgPiAtMTtcblx0fVxufSk7Il0sImZpbGUiOiJqcy9tYWluLm1pbi5qcyJ9
